# HTTP 相关

## http 状态码

1. 200 正常
2. 204 表示响应头没有 body 数据
3. 206 数据不完整，只是一部分，是应用于 HTTP 分块下载或断点续传
4. 301 永久重定向
5. 302 临时重定向
6. 304 使用缓存
7. 400 客户端请求的报文有错误
8. 403 表示服务器禁止访问资源
9. 404 请求资源未找到
10. 500 服务器错误
11. 501 客户端请求的功能还不支持
12. 502 一般是服务器网关返回，访问后段服务器发生错误
13. 503 服务器繁忙需要重试

## http 常见的字段

1. Host 域名
2. Connection: keep-alive 客户端要求服务器使用持久链接
3. Content-type 字段用于服务器回应时，告诉客户端，本次数据是什么格式
4. Content-length 表明本次回应的数据长度
5. Content-Encoding 表明返回字段的压缩格式

## http2的特点

1. 头部压缩 会压缩头，用到 `HPACK` 算法服务器和客户端会共同维护一张表，所有字段都会存入其中，生成一个索引号，每次只用发送索引号
2. 二进制格式 头信息和数据体都采用二进制格式，传输效率更高
3. 数据流传输 传输的数据不是按顺序的，同一个连续的数据包可能属于不同的回应，可以通过 Stream ID 来有序的组成 HTTP 消息
4. 多路复用 一个链接中可以并发多个接收和回应请求，不需要一一对应，一定程度上解决了 http1.1 队头阻塞的问题
5. 服务器推送 服务器可以主动把资源推送给客户端

不足：会产生队头阻塞的问题，http/2 是基于 TCP 协议来传输数据的，TCP是字节流协议，TCP层必须保证收到的数据是完整且连续的，这样内核才会把缓冲区的数据返回 http 应用，当有一个字节没有到达是，后收到的只能存在在内核缓冲区里，等到这一个字节数据到达后，应用层才能从内核中拿到数据
